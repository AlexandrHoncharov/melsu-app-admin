<!-- app/templates/sidebar.html -->
<nav id="sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen bg-gray-800 transition-transform duration-300 ease-in-out">
    <div class="px-4 py-6 bg-primary-900 text-white text-center">
        <h3 class="font-bold text-xl">МелГУ</h3>
        <p class="text-sm opacity-80">Админ-панель</p>
    </div>

    <div class="py-4 flex flex-col h-[calc(100%-140px)] overflow-y-auto">
        <ul class="space-y-1">
            <li>
                <a href="{{ url_for('dashboard.index') }}" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white {{ 'bg-gray-700 text-white border-l-4 border-primary-600' if request.endpoint == 'dashboard.index' else '' }}">
                    <i class="fas fa-tachometer-alt fa-fw w-5"></i>
                    <span class="ml-3">Дашборд</span>
                </a>
            </li>

            <li>
                <a href="#facultySubmenu" class="sidebar-submenu-toggle flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <div class="flex items-center">
                        <i class="fas fa-university fa-fw w-5"></i>
                        <span class="ml-3">Факультеты</span>
                    </div>
                    <i class="fas fa-chevron-down text-xs submenu-icon transition-transform duration-300"></i>
                </a>
                <ul id="facultySubmenu" class="hidden pl-10 py-1 bg-gray-900">
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Список факультетов</a>
                    </li>
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Добавить факультет</a>
                    </li>
                </ul>
            </li>

            <li>
                <a href="#departmentSubmenu" class="sidebar-submenu-toggle flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <div class="flex items-center">
                        <i class="fas fa-building fa-fw w-5"></i>
                        <span class="ml-3">Кафедры</span>
                    </div>
                    <i class="fas fa-chevron-down text-xs submenu-icon transition-transform duration-300"></i>
                </a>
                <ul id="departmentSubmenu" class="hidden pl-10 py-1 bg-gray-900">
                    <li>
                        <a href="{{ url_for('teacher.departments_list') }}" class="block px-4 py-2 text-gray-400 hover:text-white {{ 'text-white' if request.endpoint == 'teacher.departments_list' else '' }}">Список кафедр</a>
                    </li>
                    <li>
                        <a href="{{ url_for('teacher.add_department') }}" class="block px-4 py-2 text-gray-400 hover:text-white {{ 'text-white' if request.endpoint == 'teacher.add_department' else '' }}">Добавить кафедру</a>
                    </li>
                </ul>
            </li>

            <li>
                <a href="#teacherSubmenu" class="sidebar-submenu-toggle flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white {{ 'bg-gray-700 text-white' if request.endpoint and request.endpoint.startswith('teacher.') else '' }}">
                    <div class="flex items-center">
                        <i class="fas fa-chalkboard-teacher fa-fw w-5"></i>
                        <span class="ml-3">Преподаватели</span>
                    </div>
                    <i class="fas fa-chevron-down text-xs submenu-icon transition-transform duration-300 {{ 'transform rotate-180' if request.endpoint and request.endpoint.startswith('teacher.') else '' }}"></i>
                </a>
                <ul id="teacherSubmenu" class="{{ '' if request.endpoint and request.endpoint.startswith('teacher.') else 'hidden' }} pl-10 py-1 bg-gray-900">
                    <li>
                        <a href="{{ url_for('teacher.teachers_list') }}" class="block px-4 py-2 text-gray-400 hover:text-white {{ 'text-white' if request.endpoint == 'teacher.teachers_list' else '' }}">Список преподавателей</a>
                    </li>
                    <li>
                        <a href="{{ url_for('teacher.add_teacher') }}" class="block px-4 py-2 text-gray-400 hover:text-white {{ 'text-white' if request.endpoint == 'teacher.add_teacher' else '' }}">Добавить преподавателя</a>
                    </li>
                    <li>
                        <a href="{{ url_for('teacher.sync_teachers') }}" class="block px-4 py-2 text-gray-400 hover:text-white {{ 'text-white' if request.endpoint == 'teacher.sync_teachers' else '' }}">Синхронизация API</a>
                    </li>
                </ul>
            </li>

            <li>
                <a href="#studentSubmenu" class="sidebar-submenu-toggle flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <div class="flex items-center">
                        <i class="fas fa-user-graduate fa-fw w-5"></i>
                        <span class="ml-3">Студенты</span>
                    </div>
                    <i class="fas fa-chevron-down text-xs submenu-icon transition-transform duration-300"></i>
                </a>
                <ul id="studentSubmenu" class="hidden pl-10 py-1 bg-gray-900">
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Список студентов</a>
                    </li>
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Добавить студента</a>
                    </li>
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Группы</a>
                    </li>
                </ul>
            </li>

            <li>
                <a href="#courseSubmenu" class="sidebar-submenu-toggle flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <div class="flex items-center">
                        <i class="fas fa-book fa-fw w-5"></i>
                        <span class="ml-3">Курсы</span>
                    </div>
                    <i class="fas fa-chevron-down text-xs submenu-icon transition-transform duration-300"></i>
                </a>
                <ul id="courseSubmenu" class="hidden pl-10 py-1 bg-gray-900">
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Список курсов</a>
                    </li>
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Добавить курс</a>
                    </li>
                </ul>
            </li>

            <li>
                <a href="#scheduleSubmenu" class="sidebar-submenu-toggle flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <div class="flex items-center">
                        <i class="fas fa-calendar-alt fa-fw w-5"></i>
                        <span class="ml-3">Расписание</span>
                    </div>
                    <i class="fas fa-chevron-down text-xs submenu-icon transition-transform duration-300"></i>
                </a>
                <ul id="scheduleSubmenu" class="hidden pl-10 py-1 bg-gray-900">
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Просмотр расписания</a>
                    </li>
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Управление расписанием</a>
                    </li>
                </ul>
            </li>

            {% if current_user.has_role('admin') %}
            <li>
                <a href="{{ url_for('dashboard.users') }}" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white {{ 'bg-gray-700 text-white border-l-4 border-primary-600' if request.endpoint == 'dashboard.users' else '' }}">
                    <i class="fas fa-users fa-fw w-5"></i>
                    <span class="ml-3">Пользователи</span>
                </a>
            </li>

            <li>
                <a href="#settingsSubmenu" class="sidebar-submenu-toggle flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <div class="flex items-center">
                        <i class="fas fa-cogs fa-fw w-5"></i>
                        <span class="ml-3">Настройки</span>
                    </div>
                    <i class="fas fa-chevron-down text-xs submenu-icon transition-transform duration-300"></i>
                </a>
                <ul id="settingsSubmenu" class="hidden pl-10 py-1 bg-gray-900">
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Общие настройки</a>
                    </li>
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Настройки API</a>
                    </li>
                    <li>
                        <a href="#" class="block px-4 py-2 text-gray-400 hover:text-white">Логи системы</a>
                    </li>
                </ul>
            </li>
            {% endif %}
        </ul>
    </div>

    <div class="p-4 border-t border-gray-700 text-gray-400 text-center text-xs">
        <div class="version">
            Версия 1.0.0
        </div>
    </div>
</nav>